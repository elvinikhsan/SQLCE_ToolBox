  select datediff(minute, s.last_request_end_time, getdate()) as minutes_asleep,         s.session_id,         db_name(s.database_id) as database_name,         s.host_name,         s.host_process_id,         t.text as last_sql,         s.program_name,		 s.open_transaction_count    from sys.dm_exec_connections c    join sys.dm_exec_sessions s         on c.session_id = s.session_id   outer apply sys.dm_exec_sql_text(c.most_recent_sql_handle) t   where s.is_user_process = 1 and s.open_transaction_count >= 1         and s.status = 'sleeping'         and datediff(second, s.last_request_end_time, getdate()) > 60   order by s.last_request_end_time;